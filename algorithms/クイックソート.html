
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>クイックソートの解説</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }
    h1 {
        color: #333;
    }
    p {
        font-size: 16px;
    }
    pre {
        background-color: #f8f8f8;
        border: 1px solid #ddd;
        padding: 10px;
        overflow: auto;
    }
</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" rel="stylesheet" />

<style>
    .code-container {
        background-color: #f8f8f8;
        border: 1px solid #ddd;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 10px;
        overflow: auto;
        font-family: 'Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', monospace;
        font-size: 15px;
        line-height: 1.6;
    }
</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" rel="stylesheet" />

<style>
    /* コードブロックのカスタムスタイル */
    .code-container {
        background-color: #000; /* 背景色を黒に設定 */
        position: relative;
    }
    /* コードコピー機能のボタンスタイル */
    .copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: #ddd;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
    }
</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
</head>
<body>
    <h1>クイックソート</h1>
    <p>クイックソートは、平均的な計算時間が非常に速い「分割統治法」に基づくソートアルゴリズムです。トニー・ホーアによって1960年に開発されました。</p>
    
    <h2>基本的なアイデア</h2>
    <ol>
        <li>配列から「ピボット」と呼ばれる要素を選びます。</li>
        <li>ピボットより小さい要素は配列の前半部分に、大きい要素は後半部分に移動します。</li>
        <li>前半と後半に分けられたそれぞれの部分に対して、再帰的に同じ操作を繰り返します。</li>
    </ol>
    
    <h2>アルゴリズムのステップ</h2>
    <ol>
        <li><strong>ピボット選択</strong>: 配列内から一つの要素をピボットとして選択します。</li>
        <li><strong>パーティショニング</strong>: 選択したピボットより小さい要素を配列の左側に、ピボットより大きい要素を配列の右側に移動させます。</li>
        <li><strong>再帰</strong>: ピボットを除く左右の部分配列に対して、それぞれクイックソートを再帰的に適用します。</li>
        <li><strong>終了条件</strong>: 部分配列のサイズが0または1になると、それ以上のソートは不要となります。</li>
    </ol>
    
    <h2>計算時間の複雑さ</h2>
    <ul>
        <li>最悪計算時間: \( O(n^2) \)</li>
        <li>平均計算時間: \( O(n \log n) \)</li>
        <li>最良計算時間: \( O(n \log n) \)</li>
    </ul>
    
    <h2>クイックソートのコード例 (C言語)</h2>
    <div class="code-container"><div class="code-container"><button class="copy-btn" onclick="copyCode(this)">コピー</button><pre class="line-numbers"><code class="language-c"><code class="language-c"><code class="language-c">
void quicksort(int *array, int start, int end) {
    if (start < end) {
        int pivot = partition(array, start, end);
        quicksort(array, start, pivot - 1);
        quicksort(array, pivot + 1, end);
    }
}

int partition(int *array, int start, int end) {
    int pivot = array[end];
    int i = (start - 1);
    for (int j = start; j < end; j++) {
        if (array[j] < pivot) {
            i++;
            int temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }
    }
    int temp = array[i + 1];
    array[i + 1] = array[end];
    array[end] = temp;
    return (i + 1);
}
    </code></code></code></code></pre></div></div>
    
    <p>使用例：</p>
    <pre class="line-numbers"><code class="language-c">
#include &lt;stdio.h&gt;

int main() {
    int arr[] = {3, 6, 8, 10, 1, 2, 1};
    int n = sizeof(arr) / sizeof(arr[0]);
    quicksort(arr, 0, n - 1);
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);
    }
    return 0;
}
    </pre>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

<script>
    document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', function() {
            var code = this.previousElementSibling.innerText;
            navigator.clipboard.writeText(code).then(() => {
                alert('コードをコピーしました！');
            });
        });
    });
</script>
</body>
</html>
